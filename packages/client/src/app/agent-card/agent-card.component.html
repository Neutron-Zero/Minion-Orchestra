<div class="agent-row"
     [class.awaiting-permission]="agent.status === 'awaiting-permission' || agent.status === 'permission-requested'">

  <div class="status-dot" [style.backgroundColor]="getAgentColor(agent.id)"></div>

  <div class="agent-content">
    <div class="content-top">
      <div class="agent-name-group">
        <span class="agent-id">agent-{{ getFormattedAgentId(agent.id) }}</span>
        <span class="agent-folder" *ngIf="getFolderName(agent)">{{ getFolderName(agent) }}</span>
      </div>
      <span class="duration" *ngIf="getSessionDuration(agent) && agent.status !== 'completed'">{{ getSessionDuration(agent) }}</span>
      <span class="status-label" *ngIf="agent.status === 'completed'">Done</span>
    </div>
    <div class="content-bottom">
      <span class="task-text">
        {{ agent.currentTask || (agent.status === 'idle' ? 'Idle -- waiting for context' : agent.status) }}
      </span>
      <div class="tools">
        <span class="tool-pill" *ngFor="let tool of agent.recentTools?.slice(-2)">{{ tool }}</span>
      </div>
    </div>
  </div>

</div>
